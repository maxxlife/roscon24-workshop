<root BTCPP_format="4">

  <!-- WORK IN PROGRESS -->
  <!-- NOTE: This segfaults the BT executor when the battery crosses the threshold. -->
  <BehaviorTree ID="MainTree">
    <ReactiveSequence>
      <Fallback>
        <Inverter>
          <IsBatteryLow low_threshold="90"/>
        </Inverter>
        <Navigate name="ToCharger" target="charger"/>
      </Fallback>
      <RetryUntilSuccessful num_attempts="10">
        <Sequence>
          <Navigate name="ToDesk" target="desk"/>
          <Navigate name="ToFridge" target="fridge"/>
          <Navigate name="ToDesk" target="desk"/>
          <Navigate name="ToFridge" target="fridge"/>
          <Navigate name="ToDesk" target="desk"/>
          <Navigate name="ToFridge" target="fridge"/>
          <Navigate name="ToDesk" target="desk"/>
          <Navigate name="ToFridge" target="fridge"/>
        </Sequence>
      </RetryUntilSuccessful>
    </ReactiveSequence>
  </BehaviorTree>

</root>
